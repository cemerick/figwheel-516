
A repo minimally reproducing https://github.com/bhauman/lein-figwheel/issues/516

**Key**: there are no issues when using figwheel with this project, with a
`1.9.89` ClojureScript dependency. (I'm afraid I haven't yet done any bisecting
to shrink the range between that known-good point and CLJS head.)

Steps:

```
$ lein deps  # pulls js dependency from npm (lein-npm requires an explicit deps run)

$ lein repl
...
...
(start-figwheel!)
```

Results:

```
Figwheel: Starting server at http://0.0.0.0:3449
Figwheel: Watching build - dev
Figwheel: Cleaning build - dev
Compiling "target/classes/public/js/viewer.js" from ["src"]...
Failed to compile "target/classes/public/js/viewer.js" in 15.774 seconds.
----  Exception    ----

  G:\dev\figwheel-516\node_modules\react-draggable\dist\react-draggable.js is not a relative path

----  Exception Stack Trace  ----

java.lang.IllegalArgumentException: G:\dev\figwheel-516\node_modules\react-draggable\dist\react-draggable.js is not a relative path
 at clojure.java.io$as_relative_path.invokeStatic (io.clj:414)
    clojure.java.io$file.invokeStatic (io.clj:426)
    clojure.java.io$file.invoke (io.clj:418)
    cljs.closure$write_javascript.invokeStatic (closure.clj:1594)
    cljs.closure$write_javascript.invoke (closure.clj:1587)
    cljs.closure$source_on_disk.invokeStatic (closure.clj:1633)
    cljs.closure$source_on_disk.invoke (closure.clj:1628)
    cljs.closure$output_unoptimized$fn__6440.invoke (closure.clj:1671)
    clojure.core$map$fn__6623.invoke (core.clj:2721)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.RT.seq (RT.java:525)
    clojure.core$seq__6165.invokeStatic (core.clj:137)
    clojure.core$filter$fn__6650.invoke (core.clj:2775)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.RT.seq (RT.java:525)
    clojure.core$seq__6165.invokeStatic (core.clj:137)
    clojure.core$map$fn__6623.invoke (core.clj:2712)
    clojure.lang.LazySeq.sval (LazySeq.java:40)
    clojure.lang.LazySeq.seq (LazySeq.java:49)
    clojure.lang.Cons.next (Cons.java:39)
    clojure.lang.RT.next (RT.java:703)
    clojure.core$next__6149.invokeStatic (core.clj:64)
    clojure.core$str$fn__6228.invoke (core.clj:551)
    clojure.core$str.invokeStatic (core.clj:549)
    clojure.core$str.doInvoke (core.clj:538)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:651)
    clojure.core$apply.invoke (core.clj:646)
    cljs.closure$deps_file.invokeStatic (closure.clj:1367)
    cljs.closure$deps_file.invoke (closure.clj:1364)
    cljs.closure$output_deps_file.invokeStatic (closure.clj:1387)
    cljs.closure$output_deps_file.invoke (closure.clj:1386)
    cljs.closure$output_unoptimized.invokeStatic (closure.clj:1679)
    cljs.closure$output_unoptimized.doInvoke (closure.clj:1662)
    clojure.lang.RestFn.applyTo (RestFn.java:139)
    clojure.core$apply.invokeStatic (core.clj:653)
    clojure.core$apply.invoke (core.clj:646)
    cljs.closure$build.invokeStatic (closure.clj:2122)
    cljs.closure$build.invoke (closure.clj:2012)
    cljs.build.api$build.invokeStatic (api.clj:206)
    cljs.build.api$build.invoke (api.clj:193)
    figwheel_sidecar.components.cljs_autobuild$cljs_build.invokeStatic (cljs_autobuild.clj:28)
    figwheel_sidecar.components.cljs_autobuild$cljs_build.invoke (cljs_autobuild.clj:27)
    figwheel_sidecar.build_middleware.injection$hook$fn__26228.invoke (injection.clj:197)
    figwheel_sidecar.components.cljs_autobuild$notify_command_hook$fn__26628.invoke (cljs_autobuild.clj:68)
    figwheel_sidecar.components.cljs_autobuild$figwheel_start_and_end_messages$fn__26620.invoke (cljs_autobuild.clj:48)
    figwheel_sidecar.components.cljs_autobuild$catch_print_hook$fn__26660.invoke (cljs_autobuild.clj:185)
    figwheel_sidecar.components.cljs_autobuild$open_urls_hook$fn__26652.invoke (cljs_autobuild.clj:141)
    figwheel_sidecar.build_middleware.stamp_and_clean$hook$fn__26605.invoke (stamp_and_clean.clj:66)
    figwheel_sidecar.components.cljs_autobuild$color_output$fn__26632.invoke (cljs_autobuild.clj:79)
    figwheel_sidecar.components.cljs_autobuild.CLJSAutobuild.start (cljs_autobuild.clj:255)
    com.stuartsierra.component$eval24989$fn__24990$G__24979__24992.invoke (component.cljc:5)
    com.stuartsierra.component$eval24989$fn__24990$G__24978__24995.invoke (component.cljc:5)
    clojure.lang.Var.invoke (Var.java:379)
    clojure.lang.AFn.applyToHelper (AFn.java:154)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.core$apply.invokeStatic (core.clj:653)
    clojure.core$apply.invoke (core.clj:646)
    com.stuartsierra.component$try_action.invokeStatic (component.cljc:117)
    com.stuartsierra.component$try_action.invoke (component.cljc:116)
    com.stuartsierra.component$update_system$fn__25048.invoke (component.cljc:139)
    clojure.lang.ArraySeq.reduce (ArraySeq.java:114)
    clojure.core$reduce.invokeStatic (core.clj:6696)
    clojure.core$reduce.invoke (core.clj:6679)
    com.stuartsierra.component$update_system.invokeStatic (component.cljc:135)
    com.stuartsierra.component$update_system.doInvoke (component.cljc:129)
    clojure.lang.RestFn.invoke (RestFn.java:445)
    com.stuartsierra.component$start_system.invokeStatic (component.cljc:163)
    com.stuartsierra.component$start_system.invoke (component.cljc:155)
    com.stuartsierra.component$start_system.invokeStatic (component.cljc:161)
    com.stuartsierra.component$start_system.invoke (component.cljc:155)
    com.stuartsierra.component.SystemMap.start (component.cljc:178)
    com.stuartsierra.component$eval24989$fn__24990$G__24979__24992.invoke (component.cljc:5)
    com.stuartsierra.component$eval24989$fn__24990$G__24978__24995.invoke (component.cljc:5)
    clojure.lang.Atom.swap (Atom.java:37)
    clojure.core$swap_BANG_.invokeStatic (core.clj:2335)
    clojure.core$swap_BANG_.invoke (core.clj:2328)
    figwheel_sidecar.system.FigwheelSystem.start (system.clj:118)
    com.stuartsierra.component$eval24989$fn__24990$G__24979__24992.invoke (component.cljc:5)
    com.stuartsierra.component$eval24989$fn__24990$G__24978__24995.invoke (component.cljc:5)
    clojure.lang.Var.invoke (Var.java:379)
    clojure.lang.AFn.applyToHelper (AFn.java:154)
    clojure.lang.Var.applyTo (Var.java:700)
    clojure.core$apply.invokeStatic (core.clj:653)
    clojure.core$apply.invoke (core.clj:646)
    com.stuartsierra.component$try_action.invokeStatic (component.cljc:117)
    com.stuartsierra.component$try_action.invoke (component.cljc:116)
    com.stuartsierra.component$update_system$fn__25048.invoke (component.cljc:139)
    clojure.lang.ArraySeq.reduce (ArraySeq.java:109)
    clojure.core$reduce.invokeStatic (core.clj:6696)
    clojure.core$reduce.invoke (core.clj:6679)
    com.stuartsierra.component$update_system.invokeStatic (component.cljc:135)
    com.stuartsierra.component$update_system.doInvoke (component.cljc:129)
    clojure.lang.RestFn.invoke (RestFn.java:445)
    com.stuartsierra.component$start_system.invokeStatic (component.cljc:163)
    com.stuartsierra.component$start_system.invoke (component.cljc:155)
    com.stuartsierra.component$start_system.invokeStatic (component.cljc:161)
    com.stuartsierra.component$start_system.invoke (component.cljc:155)
    com.stuartsierra.component.SystemMap.start (component.cljc:178)
    figwheel_sidecar.system$start_figwheel_system$fn__26876.invoke (system.clj:658)
    figwheel_sidecar.system$dispatch_system_component_errors.invokeStatic (system.clj:644)
    figwheel_sidecar.system$dispatch_system_component_errors.invoke (system.clj:642)
    figwheel_sidecar.system$start_figwheel_system.invokeStatic (system.clj:658)
    figwheel_sidecar.system$start_figwheel_system.invoke (system.clj:656)
    figwheel_sidecar.system$start_figwheel_BANG__STAR_.invokeStatic (system.clj:693)
    figwheel_sidecar.system$start_figwheel_BANG__STAR_.invoke (system.clj:679)
    clojure.lang.AFn.applyToHelper (AFn.java:156)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:651)
    clojure.core$apply.invoke (core.clj:646)
    figwheel_sidecar.system$start_figwheel_BANG_.invokeStatic (system.clj:737)
    figwheel_sidecar.system$start_figwheel_BANG_.doInvoke (system.clj:695)
    clojure.lang.RestFn.invoke (RestFn.java:397)
    user$start_figwheel_BANG_$fn__26892.invoke (user.clj:16)
    clojure.lang.Atom.swap (Atom.java:37)
    clojure.core$swap_BANG_.invokeStatic (core.clj:2335)
    clojure.core$swap_BANG_.invoke (core.clj:2328)
    user$start_figwheel_BANG_.invokeStatic (user.clj:12)
    user$start_figwheel_BANG_.invoke (user.clj:9)
    user$eval27260.invokeStatic (form-init5352104765210298433.clj:1)
    user$eval27260.invoke (form-init5352104765210298433.clj:1)
    clojure.lang.Compiler.eval (Compiler.java:6946)
    clojure.lang.Compiler.eval (Compiler.java:6909)
    clojure.core$eval.invokeStatic (core.clj:3180)
    clojure.core$eval.invoke (core.clj:3176)
    clojure.main$repl$read_eval_print__9584$fn__9587.invoke (main.clj:240)
    clojure.main$repl$read_eval_print__9584.invoke (main.clj:240)
    clojure.main$repl$fn__9593.invoke (main.clj:258)
    clojure.main$repl.invokeStatic (main.clj:258)
    clojure.main$repl.doInvoke (main.clj:174)
    clojure.lang.RestFn.invoke (RestFn.java:1523)
    clojure.tools.nrepl.middleware.interruptible_eval$evaluate$fn__8050.invoke (interruptible_eval.clj:87)
    clojure.lang.AFn.applyToHelper (AFn.java:152)
    clojure.lang.AFn.applyTo (AFn.java:144)
    clojure.core$apply.invokeStatic (core.clj:651)
    clojure.core$with_bindings_STAR_.invokeStatic (core.clj:1956)
    clojure.core$with_bindings_STAR_.doInvoke (core.clj:1956)
    clojure.lang.RestFn.invoke (RestFn.java:425)
    clojure.tools.nrepl.middleware.interruptible_eval$evaluate.invokeStatic (interruptible_eval.clj:85)
    clojure.tools.nrepl.middleware.interruptible_eval$evaluate.invoke (interruptible_eval.clj:55)
    clojure.tools.nrepl.middleware.interruptible_eval$interruptible_eval$fn__8095$fn__8098.invoke (interruptible_eval.clj:222)
    clojure.tools.nrepl.middleware.interruptible_eval$run_next$fn__8090.invoke (interruptible_eval.clj:190)
    clojure.lang.AFn.run (AFn.java:22)
    java.util.concurrent.ThreadPoolExecutor.runWorker (:-1)
    java.util.concurrent.ThreadPoolExecutor$Worker.run (:-1)
    java.lang.Thread.run (:-1)

Figwheel: inital compile failed - outputing temporary helper application to target/classes/public/js/viewer.js
```

The cljsbuild build works (`lein do clean, cljsbuild once`).
